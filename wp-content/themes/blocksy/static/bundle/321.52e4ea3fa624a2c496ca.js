"use strict";(self.blocksyJsonP=self.blocksyJsonP||[]).push([[321],{9679:function(e,t,n){n.d(t,{$0:function(){return i},Kz:function(){return r},Vz:function(){return a},pF:function(){return l},r:function(){return s},v3:function(){return c},zT:function(){return o}});const o=function(e){e.closest(".ct-media-container, .ct-dynamic-media").dataset.state="playing"},i=function(e){e&&(e.matches('iframe[src*="youtu"]')?e.contentWindow.postMessage(JSON.stringify({event:"command",func:"mute"}),"*"):e.matches('iframe[src*="vimeo"]')&&e.contentWindow.postMessage(JSON.stringify({method:"setMuted",value:!0}),"*"))},r=function(e){e&&(e.matches("video")?e.play():e.matches('iframe[src*="youtu"]')?e.contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*"):e.matches('iframe[src*="vimeo"]')&&e.contentWindow.postMessage(JSON.stringify({method:"play"}),"*"))},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e&&(e.matches("video[autoplay]")||e.matches('iframe[src*="youtu"][src*="autoplay=1"]')||e.matches('iframe[src*="vimeo"][src*="autoplay=1"]')?(t(),r(e)):n())},a=function(e){e.closest(".ct-media-container, .ct-dynamic-media").dataset.state="paused"},s=function(e){if(e)if(e.matches("video"))e.pause();else if(e.matches('iframe[src*="youtu"]'))e.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*");else if(e.matches('iframe[src*="vimeo"]'))e.contentWindow.postMessage(JSON.stringify({method:"pause"}),"*");else if(e.matches("iframe")){const t=e.src;e.src="",e.src=t}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(e)return e.matches("video")?(t("ready"),e.addEventListener("play",(function(){return t("play")})),void e.addEventListener("pause",(function(){return t("pause")}))):e.matches('iframe[src*="youtu"]')?(window.addEventListener("message",(function(n){if(n.data&&n.source===e.contentWindow)try{const e=JSON.parse(n.data);"onStateChange"===e.event&&(1===e.info&&t("play"),2===e.info&&t("pause"))}catch(n){}})),void e.addEventListener("load",(function(){e.contentWindow.postMessage(JSON.stringify({event:"listening",id:1,channel:"widget"}),"*"),e.contentWindow.postMessage(JSON.stringify({event:"command",func:"addEventListener",args:["onStateChange"],id:1,channel:"widget"}),"*"),t("ready")}))):void(e.matches('iframe[src*="vimeo"]')&&window.addEventListener("message",(function(n){if(n.data&&n.source===e.contentWindow)try{const o=JSON.parse(n.data);"ready"===o.event&&(e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"pause"}),"*"),e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"play"}),"*"),t(o.event)),"pause"!==o.event&&"play"!==o.event||t(o.event)}catch(n){}})))}},5321:function(e,t,n){n.r(t),n.d(t,{mount:function(){return l}});var o=n(2194),i=n.n(o),r=n(9679);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=function(e,t){let{event:o}=t;const c=window.PhotoSwipe&&document.querySelector(".woocommerce-product-gallery__trigger"),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.closest(".elementor-section-wrap"))return;const o=i()(".pswp")[0],c=i()(e);let s=[...e.closest(".woocommerce-product-gallery").querySelectorAll(".ct-media-container")].filter((function(e){return!e.closest(".flexy-pills")}));if(s=s.map((function(e){if(e.matches("[data-media-id]"))return{mediaContainer:e,html:`<div class="ct-lightbox-video-container" data-media-id="${e.dataset.mediaId}"></div>`};const t=e.querySelector("video,iframe");if(t)return{mediaContainer:e,html:`<div class="ct-lightbox-video-container">${t.outerHTML}</div>`};const n=e.querySelector("img:not(.zoomImg)");return{mediaContainer:e,img:n,src:n.parentNode.closest("[data-src]")&&(n.parentNode.closest("[data-src]").dataset.src||n.parentNode.closest("[data-src]").href)||n.src,w:(n.parentNode.closest("[data-width]")?n.parentNode.closest("[data-width]").dataset.width:n.width)||n.width,h:(n.parentNode.closest("[data-height]")?n.closest("[data-height]").dataset.height:n.width)||n.width,title:n.getAttribute("data-caption")}})),1===s.length&&s[0].img&&s[0].img.closest("a")&&!s[0].img.closest("a").getAttribute("data-src")&&"woocommerce-placeholder"===s[0].img.title)return;var l=i().extend({index:0===t?0:t||i()(c).index(),addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].textContent=e.title,!0):(t.children[0].textContent="",!1)}},{shareEl:!1,fullscreenEl:!0,closeOnScroll:!1,history:!1,showHideOpacity:!1,hideAnimationDuration:0,showAnimationDuration:0,tapToClose:!0}),d=new PhotoSwipe(o,PhotoSwipeUI_Default,s,l);d.init();const u=function(){d.currItem.container.closest(".pswp").querySelectorAll("video,iframe").forEach((function(e){return(0,r.r)(e)}))};d.listen("close",(function(){const t=e.closest(".woocommerce-product-gallery").querySelector(".flexy-container"),n=null==t?void 0:t.flexy;n&&t.dataset.autoplay&&(n.options=a(a({},n.options),{},{autoplay:parseInt(t.dataset.autoplay),_autoplay:parseInt(t.dataset.autoplay)}),n.state=a(a({},n.state),{},{lastTimeAnimated:(new Date).getTime()})),u()}));const m=function(){const e=d.currItem.container.querySelector("[data-media-id]");if(!e||e.querySelector("video,iframe"))return;const t=e.closest(".pswp").querySelector(".pswp__preloader");t&&t.classList.add("pswp__preloader--active"),n.e(87).then(n.bind(n,4087)).then((function(n){let{fetchVideoBy:o}=n;o(e.dataset.mediaId,{ignoreVideoOptions:!0}).then((function(n){e.innerHTML=n.html,t&&t.classList.remove("pswp__preloader--active")}))}))};setTimeout((function(){m()}),300),d.listen("afterChange",(function(){u(),m()}))};o&&"click"===o.type&&setTimeout((function(){o.target&&o.target.click&&o.target.dispatchEvent(o)}),100),function(){let{onlyZoom:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...document.querySelectorAll(".woocommerce-product-gallery .woocommerce-product-gallery__trigger")];[...document.querySelectorAll(".woocommerce-product-gallery .ct-media-container")].filter((function(e){return!e.closest(".flexy-pills")})).map((function(n){if(!(window.wp&&wp.customize&&wp.customize("has_product_single_lightbox")&&"yes"===wp.customize("has_product_single_lightbox")())&&window.wp&&window.wp.customize||e||n.matches("[data-media-id]")||n.hasPhotoswipeListener||(n.hasPhotoswipeListener=!0,n.addEventListener("click",(function(e){if(!c)return;if(t.length>0)return;e.preventDefault();let o=0;o=[...n.parentNode.querySelectorAll(".ct-media-container")].indexOf(n),n.closest(".flexy-items")&&(o=[...n.closest(".flexy-items").children].indexOf(n.parentNode)),c&&s(n,o)}))),i().fn.zoom&&(window.wp&&wp.customize&&wp.customize("has_product_single_zoom")&&"yes"===wp.customize("has_product_single_zoom")()||!window.wp||!window.wp.customize)){const e=n.getBoundingClientRect();if(n.closest(".elementor-section-wrap"))return;if(n.closest(".ct-quick-view-card"))return;if(n.querySelector("iframe"))return;if(n.querySelector("video"))return;parseFloat(n.getAttribute("data-width"))>n.getBoundingClientRect().width&&i()(n).zoom(a(a({url:n.dataset.src,touch:!1,duration:50},e.width>parseFloat(n.dataset.width)||e.height>parseFloat(n.dataset.height)?{magnify:2}:{}),o&&"click"===o.type?{on:"toggle"}:{}))}})),i().fn.zoom&&(window.wp&&wp.customize&&wp.customize("has_product_single_zoom")&&"yes"===wp.customize("has_product_single_zoom")()||!window.wp||!window.wp.customize)&&setTimeout((function(){if(!o)return;if(o.target.closest(".elementor-section-wrap"))return;let e=o.target.closest(".ct-media-container");o.target.querySelector(".ct-media-container")&&(e=o.target.querySelector(".ct-media-container")),e&&o&&"click"!==o.type&&i()(e).trigger("mouseenter.zoom")}),150),t.map((function(e){e.hasPhotoswipeListener||(e.hasPhotoswipeListener=!0,e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();const n=e.closest(".woocommerce-product-gallery"),o=n.querySelector(".flexy-container"),i=null==o?void 0:o.flexy;if(n.querySelectorAll("video,iframe").forEach((function(e){return(0,r.r)(e)})),i&&o.dataset.autoplay&&setTimeout((function(){i.options=a(a({},i.options),{},{autoplay:!1,_autoplay:!1})}),50),!n.querySelector(".ct-media-container")||n.querySelector(".flexy-items")){if(e.closest(".ct-media-container")&&e.closest(".flexy-items")&&e.closest(".ct-columns-top-gallery"))c&&s(e.closest(".ct-media-container"),[...e.closest(".ct-media-container").parentNode.parentNode.children].indexOf(e.closest(".ct-media-container").parentNode));else if(document.querySelector(".single-product .ct-stacked-gallery-container > .ct-media-container")&&c&&s(document.querySelector(".single-product .ct-stacked-gallery-container > .ct-media-container")),document.querySelector(".single-product .flexy-items .ct-media-container")){let e=document.querySelector(".single-product .flexy-pills"),t=Array.from(e.querySelector(".active").parentNode.children).indexOf(e.querySelector(".active")||e.firstElementChild);c&&s(document.querySelector(".single-product .flexy-items").children[t].firstElementChild,t)}}else c&&(e.closest(".ct-media-container")?s(e.closest(".ct-media-container"),[...e.closest(".ct-media-container").parentNode.children].indexOf(e.closest(".ct-media-container"))):s(n.querySelector(".ct-media-container")))})))}))}()}}}]);